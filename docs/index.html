<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Document Assistant - LangChain Demo</title>
    <style>
        :root {
            --primary: #059669;
            --primary-dark: #047857;
            --secondary: #6366f1;
            --background: #f8fafc;
            --surface: #ffffff;
            --text: #1e293b;
            --text-light: #64748b;
            --border: #e2e8f0;
            --success: #10b981;
            --warning: #f59e0b;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--background);
            color: var(--text);
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }

        .github-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            text-decoration: none;
            background: rgba(255,255,255,0.2);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            margin-top: 1rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .demo-section {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .panel {
            background: var(--surface);
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .panel h3 {
            font-size: 0.875rem;
            text-transform: uppercase;
            color: var(--text-light);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }

        .upload-area {
            border: 2px dashed var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .upload-area:hover {
            border-color: var(--primary);
            background: rgba(5, 150, 105, 0.05);
        }

        .upload-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .doc-item {
            padding: 0.75rem;
            background: var(--background);
            border-radius: 8px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .doc-item:hover {
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .doc-item .name { font-weight: 600; font-size: 0.9rem; }
        .doc-item .info { font-size: 0.75rem; color: var(--text-light); }

        .doc-item.active {
            border: 2px solid var(--primary);
        }

        .action-btn {
            width: 100%;
            padding: 0.75rem;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 0.5rem;
            text-align: left;
            transition: all 0.2s;
        }

        .action-btn:hover {
            background: var(--primary);
            color: white;
        }

        .chat-area {
            background: var(--surface);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            min-height: 600px;
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            max-height: 500px;
        }

        .message {
            max-width: 85%;
            margin-bottom: 1rem;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user { margin-left: auto; }

        .message-content {
            padding: 1rem;
            border-radius: 12px;
            line-height: 1.6;
        }

        .message.user .message-content {
            background: var(--primary);
            color: white;
        }

        .message.assistant .message-content {
            background: var(--background);
        }

        .message-content strong { color: var(--primary); }
        .message.user .message-content strong { color: white; }

        .message-content ul {
            margin: 0.5rem 0;
            padding-left: 1.5rem;
        }

        .chat-input-area {
            padding: 1rem;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 0.75rem;
        }

        #chat-input {
            flex: 1;
            padding: 1rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
        }

        #chat-input:focus { border-color: var(--primary); }

        .send-btn {
            padding: 0 1.5rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: var(--surface);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .feature-card h3 { color: var(--primary); margin-bottom: 0.5rem; }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 2rem;
            justify-content: center;
        }

        .tech-badge {
            background: var(--primary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
        }

        .footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-light);
        }

        .sample-docs {
            font-size: 0.85rem;
        }

        .sample-doc {
            padding: 0.5rem;
            background: var(--background);
            border-radius: 6px;
            margin-bottom: 0.5rem;
            cursor: pointer;
        }

        .sample-doc:hover {
            background: var(--primary);
            color: white;
        }

        @media (max-width: 900px) {
            .demo-section { grid-template-columns: 1fr; }
            .sidebar { flex-direction: row; flex-wrap: wrap; }
            .sidebar .panel { flex: 1; min-width: 200px; }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>Smart Document Assistant</h1>
        <p>LangChain-powered document analysis and Q&A</p>
        <a href="https://github.com/yoon-k/langchain-doc-assistant" class="github-link">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
            View on GitHub
        </a>
    </header>

    <div class="container">
        <section class="demo-section">
            <aside class="sidebar">
                <div class="panel">
                    <h3>Upload Document</h3>
                    <div class="upload-area" onclick="simulateUpload()">
                        <div class="upload-icon">ðŸ“„</div>
                        <p>Drop files here or click</p>
                        <small>PDF, DOCX, TXT, MD, CSV</small>
                    </div>
                </div>

                <div class="panel">
                    <h3>Sample Documents</h3>
                    <div class="sample-docs">
                        <div class="sample-doc" onclick="loadSample('tech_report')">Tech Report.pdf</div>
                        <div class="sample-doc" onclick="loadSample('contract')">Contract.docx</div>
                        <div class="sample-doc" onclick="loadSample('research')">Research Notes.md</div>
                    </div>
                </div>

                <div class="panel">
                    <h3>Your Documents</h3>
                    <div id="docs-list">
                        <p style="color: var(--text-light); font-size: 0.85rem;">No documents yet</p>
                    </div>
                </div>

                <div class="panel">
                    <h3>Quick Actions</h3>
                    <button class="action-btn" onclick="quickMsg('Search for key findings')">Search Documents</button>
                    <button class="action-btn" onclick="quickMsg('Summarize the document')">Summarize</button>
                    <button class="action-btn" onclick="quickMsg('Extract all entities')">Extract Entities</button>
                    <button class="action-btn" onclick="quickMsg('Compare the documents')">Compare Docs</button>
                </div>
            </aside>

            <div class="chat-area">
                <div class="chat-messages" id="chat-messages">
                    <div class="message assistant">
                        <div class="message-content">
                            <p>Welcome! I'm your Document Assistant. I can help you:</p>
                            <ul>
                                <li><strong>Upload</strong> documents (PDF, Word, Text, Markdown)</li>
                                <li><strong>Search</strong> through document content</li>
                                <li><strong>Answer questions</strong> based on your documents</li>
                                <li><strong>Summarize</strong> document content</li>
                                <li><strong>Extract</strong> entities (people, dates, organizations)</li>
                                <li><strong>Compare</strong> multiple documents</li>
                            </ul>
                            <p>Try loading a sample document or upload your own to get started!</p>
                        </div>
                    </div>
                </div>
                <div class="chat-input-area">
                    <input type="text" id="chat-input" placeholder="Ask about your documents..." onkeypress="if(event.key==='Enter')sendMsg()">
                    <button class="send-btn" onclick="sendMsg()">Send</button>
                </div>
            </div>
        </section>

        <section class="features">
            <div class="feature-card">
                <h3>Multi-Format Support</h3>
                <p>Process PDF, DOCX, TXT, Markdown, CSV, and more with intelligent parsing and chunking.</p>
            </div>
            <div class="feature-card">
                <h3>Intelligent Search</h3>
                <p>Find relevant content across all documents using semantic search and keyword matching.</p>
            </div>
            <div class="feature-card">
                <h3>Question Answering</h3>
                <p>Get accurate answers with source citations using RAG (Retrieval Augmented Generation).</p>
            </div>
            <div class="feature-card">
                <h3>Entity Extraction</h3>
                <p>Automatically extract people, organizations, dates, emails, and other entities.</p>
            </div>
        </section>

        <div class="tech-stack">
            <span class="tech-badge">LangChain</span>
            <span class="tech-badge">Python</span>
            <span class="tech-badge">PyPDF</span>
            <span class="tech-badge">ChromaDB</span>
            <span class="tech-badge">Sentence Transformers</span>
            <span class="tech-badge">Flask</span>
        </div>
    </div>

    <footer class="footer">
        <p>Demo showcasing LangChain capabilities for document processing</p>
    </footer>

    <script>
        let documents = [];

        const responses = {
            search: `**Search Results:**<br><br>
<strong>From 'Tech Report.pdf' (Page 3):</strong><br>
"The key findings indicate a 35% improvement in processing efficiency when using the new algorithm. Implementation across three test environments showed consistent results."<br><br>
<strong>From 'Research Notes.md' (Section 2):</strong><br>
"Primary findings support the hypothesis that automated document processing reduces manual review time by up to 60%."<br><br>
<em>Found 2 relevant sections.</em>`,

            summarize: `**Summary of 'Tech Report.pdf':**<br><br>
This technical report presents findings from a comprehensive study on document processing optimization. The research team evaluated multiple approaches to automated text extraction and analysis, focusing on accuracy and performance metrics. Key conclusions include significant time savings through automation and improved consistency in entity extraction.<br><br>
<em>Original: 15,420 characters | Summary: 312 characters</em>`,

            extract: `**Entities Extracted:**<br><br>
<strong>People:</strong> Dr. Sarah Chen, Michael Roberts, Jennifer Liu<br><br>
<strong>Organizations:</strong> Tech Research Institute, Acme Corp, Data Analytics Inc<br><br>
<strong>Dates:</strong> January 15, 2024, March 2024, Q2 2024<br><br>
<strong>Emails:</strong> research@techlab.com, contact@acme.com<br><br>
<strong>Locations:</strong> San Francisco, New York, Boston`,

            compare: `**Document Comparison:**<br><br>
<strong>Document 1:</strong> Tech Report.pdf (5,240 words)<br>
<strong>Document 2:</strong> Research Notes.md (2,180 words)<br><br>
<strong>Similarity Score:</strong> 68.5%<br><br>
<strong>Common Terms:</strong> analysis, processing, document, extraction, algorithm, performance<br><br>
<strong>Unique to Doc 1:</strong> benchmark, optimization, efficiency, deployment<br>
<strong>Unique to Doc 2:</strong> hypothesis, methodology, preliminary`,

            question: `**Answer:**<br>
Based on the documents, the main recommendation is to implement the automated processing pipeline in phases, starting with high-volume document types. The research indicates this approach minimizes risk while maximizing early ROI.<br><br>
<strong>Sources:</strong><br>
- Tech Report.pdf (Page 8)<br>
- Research Notes.md (Section 4)<br><br>
<em>Confidence: 85%</em>`,

            default: `I can help you analyze your documents. Try:<br><br>
<ul>
<li>"Search for [keyword]" - Find relevant content</li>
<li>"Summarize the document" - Get a brief overview</li>
<li>"Extract entities" - Find people, dates, organizations</li>
<li>"What are the main conclusions?" - Ask questions</li>
</ul>`
        };

        function simulateUpload() {
            addMessage("I've uploaded a document", "user");
            setTimeout(() => {
                addDoc('uploaded_doc.pdf', 'PDF', 3420);
                addMessage("Successfully uploaded 'uploaded_doc.pdf' (3,420 words, 12 chunks). You can now search, summarize, or ask questions about this document.", "assistant");
            }, 500);
        }

        function loadSample(type) {
            const samples = {
                tech_report: { name: 'Tech Report.pdf', type: 'PDF', words: 5240 },
                contract: { name: 'Contract.docx', type: 'DOCX', words: 2890 },
                research: { name: 'Research Notes.md', type: 'Markdown', words: 2180 }
            };

            const sample = samples[type];
            addMessage(`Loading sample: ${sample.name}`, "user");
            setTimeout(() => {
                addDoc(sample.name, sample.type, sample.words);
                addMessage(`Loaded '${sample.name}' (${sample.words.toLocaleString()} words). What would you like to know about it?`, "assistant");
            }, 500);
        }

        function addDoc(name, type, words) {
            documents.push({ name, type, words });
            updateDocsList();
        }

        function updateDocsList() {
            const list = document.getElementById('docs-list');
            if (documents.length === 0) {
                list.innerHTML = '<p style="color: var(--text-light); font-size: 0.85rem;">No documents yet</p>';
            } else {
                list.innerHTML = documents.map((doc, i) => `
                    <div class="doc-item ${i === 0 ? 'active' : ''}" onclick="selectDoc(${i})">
                        <div class="name">${doc.name}</div>
                        <div class="info">${doc.type} | ${doc.words.toLocaleString()} words</div>
                    </div>
                `).join('');
            }
        }

        function selectDoc(index) {
            document.querySelectorAll('.doc-item').forEach((el, i) => {
                el.classList.toggle('active', i === index);
            });
        }

        function quickMsg(msg) {
            document.getElementById('chat-input').value = msg;
            sendMsg();
        }

        function sendMsg() {
            const input = document.getElementById('chat-input');
            const msg = input.value.trim();
            if (!msg) return;

            addMessage(msg, 'user');
            input.value = '';

            setTimeout(() => {
                const response = getResponse(msg.toLowerCase());
                addMessage(response, 'assistant');
            }, 500);
        }

        function getResponse(msg) {
            if (documents.length === 0) {
                return "Please upload or load a sample document first, then I can help you analyze it.";
            }

            if (msg.includes('search') || msg.includes('find')) return responses.search;
            if (msg.includes('summarize') || msg.includes('summary')) return responses.summarize;
            if (msg.includes('extract') || msg.includes('entities')) return responses.extract;
            if (msg.includes('compare')) return responses.compare;
            if (msg.includes('?')) return responses.question;
            return responses.default;
        }

        function addMessage(content, role) {
            const container = document.getElementById('chat-messages');
            const div = document.createElement('div');
            div.className = `message ${role}`;
            div.innerHTML = `<div class="message-content">${content}</div>`;
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }
    </script>
</body>
</html>
